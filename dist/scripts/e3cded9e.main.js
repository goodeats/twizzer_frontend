"use strict";var App=App||{},$jumbo=$("#jumbo"),$tweetList=$("#tweet-list"),$search=$("#handleInput"),$form=$(".form-inline"),$gridButton=$("#btnOther"),$tweetPic=$(".tweetPic");console.log("if you can read this, you are probably a web developer :)"),$(document).ready(function(){$search.focus(),$gridButton.on("click",function(){$tweetList.empty(),App.MyGridTweets(event),$("h1").text("What is @"+$search.val()+" Twitpic-ing??"),$(".lead").text("Probably something captivating...")}),$form.submit(function(a){a.preventDefault(),$tweetList.empty(),App.MyTweets(a),console.log($search.val()),$("h1").text("What is @"+$search.val()+" Tweeting??"),$(".lead").text("Probably something insightful...")})}),App.MyTweets=function(a){a.preventDefault(),$.ajax({url:"https://wtfamitweeting.herokuapp.com/tweets/"+$search.val(),type:"GET",dataType:"JSON"}).done(function(a){function b(a){var b=new Date(Date.parse(a)).toLocaleDateString(),c=new Date(Date.parse(a)).toLocaleTimeString();return b+" â€¢ "+c}console.log(a);for(var c=0;c<a.tweets.length;c++){var d="<div class='tweet'>";d+="<p>Posted: "+b(a.tweets[c].created_at)+"</p>",d+="<p>"+App.addLinks(a.tweets[c].text)+"</p>",a.tweets[c].entities.media&&(d+="<p><img src='"+a.tweets[c].entities.media[0].media_url+"'></p>"),d+="<div class='twitterStats'>",d+="<span>Retweets: "+a.tweets[c].retweet_count+"</span>",d+="<span>Favorites: "+a.tweets[c].favorite_count+"</span>",d+="</div></div>",$tweetList.append(d)}}).fail(function(){console.log("try typing a real twitter handle... here's what you look like right now");var a="<img id='puppyFail' src='http://www.goodmeme.net/wp-content/uploads/2014/07/240_cute_dog_driving.jpg' alt='Smiley face'>";$jumbo.append(a),window.setTimeout(function(){location.reload()},3e3)})},App.displayTweet=function(a){$tweetList.append(App.addLinks(a))},App.addLinks=function(a){for(var b=a.split(" "),c=0;c<b.length;c++)"http://"===b[c].slice(0,7)||"https://"===b[c].slice(0,8)?b[c]="<a href="+b[c]+' target="_blank">'+b[c]+"</a>":"@"===b[c].slice(0,1)?b[c]='<a href="https://twitter.com/'+b[c]+'" target="_blank">'+b[c]+"</a>":"#"===b[c].slice(0,1)&&(b[c]="<a href='https://twitter.com/hashtag/"+b[c].replace(/[#]/g,"")+"?src=hash' target='_blank'>"+b[c]+"</a>");return b.join(" ")},App.MyGridTweets=function(a){a.preventDefault(),$.ajax({url:"https://wtfamitweeting.herokuapp.com/tweets/"+$search.val(),type:"GET",dataType:"JSON"}).done(function(a){console.log(a);var b="<p style='font-weight:bold'>Legend</p>";b+="<div id='legend'>",b+="<div><p>500+ followers</p><p><span class='glyphicon glyphicon-star star'></span></p></div>",b+="<div><p>10+ favorites<p></p><span style='color: blue;'>blue border</span></p></div>",b+="<div><p>10+ retweets<p></p><span style='color: green;'>green border</span></p></div>",b+="<div><p>10+ favorites & retweets<p></p><span style='color: red;'>red border</span></p></div>",b+="</div>",$tweetList.append(b);for(var c=0;c<a.tweets.length;c++)if(a.tweets[c].entities.media){var d="<div class='tweetGrid'>";a.tweets[c].user.followers_count>500&&(d+="<div class='star'><span class='glyphicon glyphicon-star'></span></div>"),d+="<img class='tweetPic' id='twitPic-"+c+"' ",a.tweets[c].favorite_count>10&&a.tweets[c].retweet_count>10?d+="style='border: 10px solid red;'":a.tweets[c].favorite_count>10?d+="style='border: 10px solid blue;'":a.tweets[c].retweet_count>10&&(d+="style='border: 10px solid green;'"),d+=" src='"+a.tweets[c].entities.media[0].media_url+"'>",d+="<div class='twitterStats'>",d+="<span>RT: "+a.tweets[c].retweet_count+"</span>",d+="<span>F: "+a.tweets[c].favorite_count+"</span>",d+="</div></div>",$tweetList.append(d)}$(".twitterStats").hide(),$(".tweetGrid").mouseenter(function(){var a=$(".twitterStats").eq($(this).index(".tweetGrid"));a.show(),a.css("position","absolute"),a.css("width","100%")}).mouseleave(function(){var a=$(".twitterStats").eq($(this).index(".tweetGrid"));a.hide()})}).fail(function(){console.log("try typing a real twitter handle... here's what you look like right now");var a="<img id='puppyFail' src='http://www.goodmeme.net/wp-content/uploads/2014/07/240_cute_dog_driving.jpg' alt='Smiley face'>";$jumbo.append(a),window.setTimeout(function(){location.reload()},3e3)})};